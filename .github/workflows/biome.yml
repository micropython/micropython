name: JavaScript code lint and formatting with Biome

on:
  push:
  pull_request:
  workflow_dispatch:
    inputs:
      pr_number:
        description: 'PR number (for retest command)'
        required: false
      pr_sha:
        description: 'PR SHA (for retest command)'
        required: false

jobs:
  eslint:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v6
    - name: Setup Biome
      uses: biomejs/setup-biome@v2
      with:
        version: 1.5.3
    - name: Run Biome
      run: biome ci --indent-style=space --indent-width=4 tests/ ports/webassembly
